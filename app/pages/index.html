{% extends "base.html" %}

{% block header %}
<!-- Page Header -->
	<header class="masthead">
      <div class="overlay"></div>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-md-10 mx-auto">
            <div class="site-heading">
              <h1>John's Journal</h1>
              <span class="subheading">Recent Posts</span>
            </div>
          </div>
        </div>
      </div>
    </header>
{% end %}

{% if recent %}
	<div>
		<h3 style="display: inline-block">recent posts</h3> - <a href="/posts">all posts</a> - <span id="search-button" onclick="searchBox()">search</span>
		<div id="search-box" class="disabled">
			<form action="/search" method="POST">
				<input type="text" name="query" id="query-box" placeholder="what were you looking for..." required autocomplete='off'/>
				<input type="submit" value="search" id="send-btn"/>
			</form>
		</div>
	</div>
	{% for post in recent %}
    <!-- Main Content -->
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <div class="post-preview">
            <a href="/posts/{{ post.id }}">
              <h2 class="post-title">
                {{ post.heading }}
              </h2>
              <h5 class="post-subtitle">
                {{ post.brief }}
              </h5>
            </a>
          </div>
          <hr>
        </div>
      </div>
    </div>

	{% end %}
	{% else %}
	<div style="margin-top: 35%">
		<h2>no posts here. do make a <a href="/posts/new" style="text-decoration: underline">new</a> one or something.</h2>
	</div>
	{% end %}

